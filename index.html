<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>darion.johannes.yaphet</title>
  <meta name="author" content="Darion Yaphet">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="darion.johannes.yaphet"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="darion.johannes.yaphet" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">darion.johannes.yaphet</a></h1>
  <h2><a href="/">long is the way and hard  that out of Hell leads up to light</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-21T16:00:00.000Z"><a href="/2016/12/22/math/discrete_mathematics/">2016-12-22</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/22/math/discrete_mathematics/">Discrete Mathematics</a></h1>
  

    </header>
    <div class="entry">
      
        <p><code>七桥问题</code></p>
<hr>
<p><code>欧拉图</code></p>
<p>通过图（无向图或有向图）中所有边且每边仅通过一次通路称为欧拉通路，相应的回路称为欧拉回路。具有欧拉回路的图称为欧拉图（Euler Graph），具有欧拉通路而无欧拉回路的图称为半欧拉图。</p>
<ol>
<li>无向连通图G是欧拉图，当且仅当G不含奇数度结点(G的所有结点度数为偶数)；</li>
<li>无向连通图G含有欧拉通路，当且仅当G有零个或两个奇数度的结点；</li>
<li>有向连通图D是欧拉图，当且仅当该图为连通图且D中每个结点的入度=出度</li>
<li>有向连通图D含有欧拉通路，当且仅当该图为连通图且D中除两个结点外，其余每个结点的入度=出度，且此两点满足deg－(u)－deg+(v)=±1。（起始点s的入度=出度-1，结束点t的出度=入度-1 或两个点的入度=出度）</li>
<li>一个非平凡连通图是欧拉图当且仅当它的每条边属于奇数个环。</li>
<li>如果图G是欧拉图且 H = G - uv，则H有奇数个u,v-迹仅在最后访问v；同时，在这一序列的u,v-迹中，不是路径的迹的条数是偶数。</li>
</ol>
<hr>
<p><code>哈密顿图</code></p>
<p>通过图G的每个结点一次，且仅一次的通路（回路），就是哈密顿通路（回路）. 存在哈密顿回路的图就是哈密顿图·</p>
<p>哈密顿图的充分条件和必要条件</p>
<ol>
<li>在无向简单图G=<v,e>中&frac12;V&frac12;&sup3;3,任意不同结点，则G是哈密顿图.（充分条件，定理4）</v,e></li>
<li>有向完全图D=<v,e>；，若 ，则图D是哈密顿图. （充分条件，定理5推论）</v,e></li>
<li>设无向图G=<v,e>,”V1&Igrave;V，则P(G－V1）&pound;&frac12;V1&amp;frac12；（必要条件，定理3）</v,e></li>
</ol>
<hr>
<p><code>握手定理</code></p>
<p>设G=<v,e>为任意无向图，V={v1,v2,…,vn}，|E|=m，则所有顶点的度数和为2m</v,e></p>
<hr>
<p><code>康托定理</code></p>
<ol>
<li>闭区间上的连续实函数是一致连续的。</li>
<li>一个集合本身的势严格小于其幂集的势。</li>
<li>如果一个全序集是可列集，且是稠密的，无最大和最小值的，则它一定和有理数集序同构。</li>
</ol>
<hr>
<p>Reference :</p>
<ol>
<li><a href="http://baike.baidu.com/view/143349.htm" target="_blank" rel="external">欧拉图</a></li>
<li><a href="http://baike.baidu.com/view/143350.htm" target="_blank" rel="external">哈密顿图</a></li>
<li><a href="http://baike.baidu.com/view/142962.htm" target="_blank" rel="external">七桥问题</a></li>
<li><a href="http://baike.baidu.com/item/%E6%8F%A1%E6%89%8B%E5%AE%9A%E7%90%86" target="_blank" rel="external">握手定理</a></li>
<li><a href="http://baike.baidu.com/item/%E5%BA%B7%E6%89%98%E5%AE%9A%E7%90%86" target="_blank" rel="external">康托定理</a></li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-21T16:00:00.000Z"><a href="/2016/12/22/live/economics/">2016-12-22</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/22/live/economics/">Economics</a></h1>
  

    </header>
    <div class="entry">
      
        <p><code>通货膨胀</code></p>
<p>一般定义为：在信用货币制度下，流通中的货币数量超过经济实际需要而引起的货币贬值和物价水平全面而持续的上涨–用更通俗的语言来说就是：在一段给定的时间内，给定经济体中的物价水平普遍持续增长，从而造成货币购买力的持续下降。</p>
<hr>
<p><code>通货紧缩</code></p>
<p>当市场上流通货币减少，人民的货币所得减少，购买力下降，影响物价至下跌，造成通货紧缩。长期的货币紧缩会抑制投资与生产，导致失业率升高及经济衰退。</p>
<hr>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-19T16:00:00.000Z"><a href="/2016/12/20/live/chess/">2016-12-20</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/20/live/chess/">Chess</a></h1>
  

    </header>
    <div class="entry">
      
        <p><img src="resource/chess/chess.jpg" alt="Chess"></p>
<h3 id="入门-amp-常识"><a href="#入门-amp-常识" class="headerlink" title="入门&amp;常识"></a>入门&amp;常识</h3><p>国际象棋有8*8共64个棋格，相邻的两个棋格总是黑白相间。为了方便，我们可以用A——H，和1——8这些字母和数字来标志每个格子。如下图。对局双方分为黑、白两方，各执16个棋子。这16个棋子分别是8个兵，2个车，2个马，2个象，1个王后，1个国王。只要将对方的国王吃掉就算胜利。</p>
<ol>
<li>国王。国王可以直行、横行、斜行，但是每次只能动一个格。国王死掉，棋局结束。</li>
<li>王后。王后是国际象棋中最为厉害的棋子，她可以直行、横行、斜行，且行走的格数不受限制，只要前方没有其它棋子。</li>
<li>象。只能斜行。国际象棋中有两个象，一个位于黑格，一个位于白格，着也意味着，黑格中的象永远不会出现在白格的位置。</li>
<li>马。国际象棋中的马和中国象棋中的马的行走方法是一样的，都是走“日”字。但是国际象棋中的马没有“拌腿”一说。</li>
<li>车。国际象棋中的车与中国象棋中的车一样，都是可以直走、横走，且走的格数不受限制。另外，车还有一种特殊的走法，叫做“王车易位”。每局中，对局双方都有一次同时移动国王和车的机会。但是王车易位有诸多限制。</li>
<li>兵。如果兵是第一次行走，可以走一格或者两格，如果不是第一次行走，只能走一格，且只能直行，不能横行和斜行。另外，兵吃子儿的方法比较特殊，一般，兵只能吃斜前方的子儿，吃完后占据斜前方的位置，还有一种特殊的吃法，兵一次走两格，走完后在同一横线上有对方的兵时，可以将其吃掉，然后占据斜前方的位置。这叫做“吃过路兵”。如果己方的兵走到对方的底线时，这时候兵就可以升为除国王和兵以外的其它棋子，由于王后的威力最大，所以，兵经常升为王后。</li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-12-03T13:58:22.000Z"><a href="/2016/12/03/other/make/">2016-12-03</a></time>
      
      
  
    <h1 class="title"><a href="/2016/12/03/other/make/"></a></h1>
  

    </header>
    <div class="entry">
      
        
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-21T16:00:00.000Z"><a href="/2016/11/22/live/math/">2016-11-22</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/22/live/math/">Mathematics</a></h1>
  

    </header>
    <div class="entry">
      
        <p>数学三大危机：</p>
<ol>
<li>希帕索斯（Hippasu，米太旁登地方人，公元前5世纪）发现了一个腰为1的等腰直角三角形的斜边（即根号2）永远无法用最简整数比（不可公度比）来表示，从而发现了第一个无理数，推翻了毕达哥拉斯的著名理论。相传当时毕达哥拉斯派的人正在海上，但就因为这一发现而把希帕索斯抛入大海；</li>
<li>微积分的合理性遭到严重质疑，险些要把整个微积分理论推翻；</li>
<li>罗素悖论：S由一切不是自身元素的集合所组成，那S包含S吗？用通俗一点的话来说，小明有一天说：“我正在撒谎！”问小明到底撒谎还是说实话。罗素悖论的可怕在于，它不像最大序数悖论或最大基数悖论那样涉及集合高深知识，它很简单，却可以轻松摧毁集合理论！</li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-17T16:00:00.000Z"><a href="/2016/11/18/algorithms/RedBlackTree/">2016-11-18</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/18/algorithms/RedBlackTree/">RedBlackTree</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="Red-Black-Tree"><a href="#Red-Black-Tree" class="headerlink" title="Red Black Tree"></a>Red Black Tree</h3><p>Red Black Tree由Rudolf Bayer发明的，当时被称为平衡二叉B树。后来，在1978年被 Leo J. Guibas 和 Robert Sedgewick 修改为如今的“红黑树”。</p>
<p>红黑树每个节点都带有颜色属性的二叉查找树，颜色为红色或黑色。二叉查找树强制一般要求以外，对于任何有效的红黑树我们增加了额外要求:</p>
<ol>
<li>节点是红色或黑色</li>
<li>根节点是黑色</li>
<li>每个叶节点是黑色的</li>
<li>每个红色节点的两个子节点都是黑色</li>
<li>从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点</li>
</ol>
<p>这些约束确保了红黑树的关键特性：从根到叶子的最长的可能路径不多于最短的可能路径的两倍长`。</p>
<p><img src="resource/Red-black_tree_example.svg" alt="RedBlackTree"></p>
<p>Reference :</p>
<ol>
<li><a href="https://zh.wikipedia.org/wiki/红黑树" target="_blank" rel="external">Wiki 红黑树</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E5%B9%B3%E8%A1%A1%E6%A0%91" target="_blank" rel="external">Wiki 平衡树</a></li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-13T02:08:48.000Z"><a href="/2016/11/13/distribution/beam/">2016-11-13</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/13/distribution/beam/"></a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="Beam"><a href="#Beam" class="headerlink" title="Beam"></a>Beam</h3><p>Apache Beam的主要目标是统一批处理和流处理的编程范式，为无限，乱序，web-scale的数据集处理提供简单灵活，功能丰富以及表达能力十分强大的SDK。</p>
<p>Apache Beam项目重点在于数据处理的编程范式和接口定义，并不涉及具体执行引擎的实现，Apache Beam希望基于Beam开发的数据处理程序可以执行在任意的分布式计算引擎上。</p>
<p><strong>Apache Beam基本架构</strong></p>
<ol>
<li>统一批处理和流处理的需求。</li>
<li>生成的分布式数据处理任务应该能够在各个分布式执行引擎上执行，用户可以自由切换分布式数据处理任务的执行引擎与执行环境。</li>
</ol>
<p>Apache Beam主要由<code>Beam SDK</code>和<code>Beam Runner</code>组成，<code>Beam SDK</code>定义了开发分布式数据处理任务业务逻辑的API接口，生成的的分布式数据处理任务Pipeline交给具体的<code>Beam Runner</code>执行引擎。</p>
<p><strong>Beam Model</strong></p>
<ol>
<li>数据。分布式数据处理要处理的数据类型一般可以分为两类，有限的数据集和无限的数据流。</li>
<li>时间。Process Time是指数据进入分布式处理框架的时间，而Event-Time则是指数据产生的时间。</li>
<li>乱序。对于流处理框架处理的数据流来说，其数据的到达顺序可能并不严格按照Event-Time的时间顺序。对于基于Event Time定义的时间窗口来说，可能存在时间靠前的消息在时间靠后的消息后到达的情况。</li>
</ol>
<p>Beam Model处理的目标数据是无限的时间乱序数据流，不考虑时间顺序或是有限的数据集可看做是无限乱序数据流的一个特例。</p>
<p>Beam Model从下面四个维度归纳了用户在进行数据处理的时候需要考虑的问题：</p>
<ol>
<li>What。如何对数据进行计算？</li>
<li>Where。数据在什么范围中计算？</li>
<li>When。何时将计算结果输出？</li>
<li>How。迟到数据如何处理？</li>
</ol>
<p><strong>Beam SDK</strong></p>
<p><code>Pipeline</code> : </p>
<p><code>PCollection</code> : </p>
<p><code>Transform</code> :</p>
<p><code>Source</code> and <code>Sink</code> : </p>
<p>A typical Beam driver program works as follows:</p>
<ol>
<li>Create a <code>Pipeline</code> object and set the pipeline execution options, including the Pipeline Runner.</li>
<li>Create an initial <code>PCollection</code> for pipeline data, either using the Source API to read data from an external source, or using a Create transform to build a PCollection from in-memory data.</li>
<li>Apply <code>Transforms</code> to each <code>PCollection</code>. Transforms can change, filter, group, analyze, or otherwise process the elements in a PCollection. A transform creates a new output PCollection without consuming the input collection. A typical pipeline applies subsequent transforms to the each new output PCollection in turn until processing is complete.</li>
<li>Output the final, transformed PCollection(s), typically using the Sink API to write data to an external source.</li>
<li>Run the pipeline using the designated Pipeline Runner.</li>
</ol>
<p><em>Creating the Pipeline</em></p>
<p><em>Working with PCollections</em></p>
<p>Reference :</p>
<ol>
<li><a href="https://zhuanlan.zhihu.com/p/23618169" target="_blank" rel="external">Apache Beam: 下一代的大数据处理标准</a></li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-08T02:52:38.000Z"><a href="/2016/11/08/network/libuv/">2016-11-08</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/08/network/libuv/"></a></h1>
  

    </header>
    <div class="entry">
      
        <p>###Libuv</p>
<p>libuv是一个高性能事件驱动的程序库,采用了异步, 事件驱动编程风格,提供了一套事件循环和基于IO通知回调函数。</p>
<p>Libuv Hello World示例程序:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;uv.h&gt;</span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    uv_loop_t *loop = uv_loop_new();</span><br><span class="line"></span><br><span class="line">    printf(&quot;Now quitting.\n&quot;);</span><br><span class="line">    uv_run(loop, UV_RUN_DEFAULT);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-08T02:52:38.000Z"><a href="/2016/11/08/network/jetty/">2016-11-08</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/08/network/jetty/"></a></h1>
  

    </header>
    <div class="entry">
      
        <pre><code>###Jetty
</code></pre><p><code>Configure</code></p>
<p><strong>Configuring the Server</strong></p>
<table>
<thead>
<tr>
<th>Desc</th>
<th>Value </th>
</tr>
</thead>
<tbody>
<tr>
<td>ThreadPool</td>
<td></td>
</tr>
<tr>
<td>Handlers</td>
<td></td>
</tr>
<tr>
<td>Server Attributes</td>
<td></td>
</tr>
<tr>
<td>Server fields</td>
<td></td>
</tr>
<tr>
<td>Connectors</td>
<td></td>
</tr>
<tr>
<td>Services</td>
<td></td>
</tr>
</tbody>
</table>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-11-08T02:52:38.000Z"><a href="/2016/11/08/network/netty/">2016-11-08</a></time>
      
      
  
    <h1 class="title"><a href="/2016/11/08/network/netty/"></a></h1>
  

    </header>
    <div class="entry">
      
        <p>##Netty</p>
<p><img src="../resource/netty/lable.png" alt="Netty"></p>
<p>###架构总览<br><img src="../resource/netty/architecture.png" alt="archietecture"></p>
<p>Netty is a NIO client server framework which enables quick and easy development of network applications such as protocol servers and clients. It greatly simplifies and streamlines network programming such as TCP and UDP socket server. – Netty 官网</p>
<p>总体来说 Netty算是一个异步-事件驱动网络框架，具有很高的性能与扩展能力。</p>
<p>###重要组件介绍</p>
<ol>
<li><p>ServerBootstrap instance is then configured, as shown in the following listing, to set options, such as the port, the threading model/event loop, and the server handler to handle the business logic </p>
</li>
<li><p>EventExecutor : a special EventExecutorGroup which comes with some handy methods to see if a Thread is executed in a event loop.</p>
</li>
<li><p>EventExecutorGroup : responsible for providing the EventExecutor’s to use via its next() method. </p>
</li>
</ol>
<p>2.Bootstrap</p>
<p>3.Channel</p>
<p>4.ChannelPipeline</p>
<p>可以理解为ChannelHandler的有序容器</p>
<p>5.ChannelBuffer</p>
<p>6.ChannelHandler</p>
<p>ChannelHandler分为ChannelInboundHandler与ChannelOutboundHandler两类</p>
<p>ChannelInboundHandler对从Client –&gt; Server的消息进行处理</p>
<p>ChannelOutboundHandler对从Server –&gt; CLient的消息进行处理</p>
<p>7.ChannelHandlerContext</p>
<p>###示例程序<br>以著名的Discard程序为例  说明Netty程序基本结构</p>
<p>首先是Server端结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">EventLoopGroup bossGroup = new NioEventLoopGroup(1);</span><br><span class="line">EventLoopGroup workerGroup = new NioEventLoopGroup();</span><br><span class="line"></span><br><span class="line">ServerBootstrap b = new ServerBootstrap();</span><br><span class="line">b.group(bossGroup, workerGroup)</span><br><span class="line">    .channel(NioServerSocketChannel.class)</span><br><span class="line">    .handler(new LoggingHandler(LogLevel.INFO))</span><br><span class="line">    .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void initChannel(SocketChannel ch) &#123;</span><br><span class="line">            ChannelPipeline p = ch.pipeline();</span><br><span class="line">            if (sslCtx != null) &#123;</span><br><span class="line">                p.addLast(sslCtx.newHandler(ch.alloc()));</span><br><span class="line">            &#125;</span><br><span class="line">            p.addLast(new DiscardServerHandler());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// Bind and start to accept incoming connections.</span><br><span class="line">ChannelFuture f = b.bind(PORT).sync();</span><br><span class="line"></span><br><span class="line">// Wait until the server socket is closed.</span><br><span class="line">// In this example, this does not happen, but you can do that to gracefully</span><br><span class="line">// shut down your server.</span><br><span class="line">f.channel().closeFuture().sync();</span><br></pre></td></tr></table></figure>
<p>之后是Client端结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">EventLoopGroup group = new NioEventLoopGroup();</span><br><span class="line">Bootstrap b = new Bootstrap();</span><br><span class="line">b.group(group)</span><br><span class="line">    .channel(NioSocketChannel.class)</span><br><span class="line">    .handler(new ChannelInitializer&lt;SocketChannel&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        protected void initChannel(SocketChannel ch) throws Exception &#123;</span><br><span class="line">            ChannelPipeline p = ch.pipeline();</span><br><span class="line">            if (sslCtx != null) &#123;</span><br><span class="line">                p.addLast(sslCtx.newHandler(ch.alloc(), HOST, PORT));</span><br><span class="line">            &#125;</span><br><span class="line">            p.addLast(new DiscardClientHandler());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>AbstractBootstrap中<br>doBind(final SocketAddress localAddress)</p>
<p>init(Channel channel)</p>
<p>A Future is an abstraction, which represents a value that may become available at some point. </p>
<p>A Future object either holds the result of a computation or, in the case of a failed computation, an exception. </p>
<p>##Your first Netty application </p>
<p>A Netty application begins with one of the Bootstrap classes, a Bootstrap is a construct Netty provides that makes it easy for you to configure how Netty should setup or bootstrap the application.</p>
<p>In order to allow multiple protocols and various ways of processing data, Netty has what are called handlers.</p>
<p>The ChannelInboundHandler receives messages which you can process and decide what to do with it.</p>
<p>When a channel is registered, Netty binds that channel to a single EventLoop  for the lifetime of that Channel. EventLoop is always bound to a single Thread that never changed during its life time. </p>
<p>EventLoopGroup contains one or more EventLoop</p>
<p>Netty allows the same EventLoopGroup to be used for processing IO and accepting<br>connections. </p>
<p>To understand what happens to data when it is written or read, it is first essential to have some understanding of what handlers are. </p>
<p>Handlers themselves depend upon the aforementioned ChannelPipeline to prescribe their order of execution. </p>
<p>A ChannelHandler may do some action on the data and then may pass it to the next<br>ChannelHandler in the ChannelPipeline. Another often action is do not do any action at all and just pass the specific event to the next ChannelHandler in the ChannelPipeline. This next ChannelHandler may handle it then or just forward it to the next ChannelHandler again. </p>
<p>Both ChannelInboundHandler and ChannelOutboundHandler can be mixed into the same ChannelPipeline. </p>
<p>###Encoding</p>
<p>When you send or receive a message with Netty it must be converted from one form to another. </p>
<p>If the message is being received it must be converted from bytes to a Java object (decoded by some kind of decoder). </p>
<p>If the message is being sent it must be converted from a<br>Java object to bytes (encoded by some type of encoder). </p>
<p>##Transports</p>
<p><code>Channel interface</code>, which is used for all of the outbound operations. All I/O operations in Netty are asynchronous. </p>
<pre><code>A channel provides a user:
Current state of the channel 
ChannelConfig configuration parameters of the channel
I/O operations that the channel supports
ChannelPipeline which handles all I/O events and requests
</code></pre><p>The ChannelPipeline holds all of the ChannelHandler instances that should be used for the inbound and outbound data that is passed through the channel. </p>
<p>ChannelHandler use for :</p>
<ol>
<li>Transforming data from one format to another.  </li>
<li>Notifying you of exceptions. </li>
<li>Notifying you when a Channel becomes active or inactive.</li>
<li>Notifying you once a channel is registered/deregistered from an EventLoop.</li>
<li>Notifying you about user-specific events. </li>
</ol>
<p>###IOI(Old blocking I/O )</p>
<p>The OIO transport is a compromise in Netty.</p>
<p>##Buffers</p>
<p><strong>Different types of ByteBuf</strong></p>
<ol>
<li>HEAP BUFFERS</li>
<li>DIRECT BUFFERS</li>
<li>COMPOSITE BUFFERS</li>
</ol>
<p>##Transports<br>The heart of the transport API is the <strong>Channel</strong> interface, which is used for all of the outbound operations. A channel has a <em>ChannelPipeline</em> and a <em>ChannelConfig</em><br>assigned to it.</p>
<p>The <strong>ChannelPipeline</strong> holds all of the ChannelHandler instances that should be used for the inbound and outbound data that is passed through the channel. </p>
<p>##ChannelHandler</p>
<p>your channel handler must extend the ChannelInboundHandlerAdapter class and override the messageReceived method. This method is called every time messages are received, which in this case are bytes. </p>
<p>channelActive Called after the connection to the server is established</p>
<p>channelRead0  Called after you receive data from the server </p>
<p>exceptionCaught  Called if any exception was raised during processing </p>
<p><strong>ChannelInboundHandler</strong> and <strong>ChannelOutboundHandler</strong> extends <strong>ChannelHandler</strong></p>
<p>##ChannelPipeline</p>
<p>The <strong>ChannelPipeline</strong> holds all of the ChannelHandler instances that should be used for the <em>inbound</em> and <em>outbound</em> data that is passed through the channel. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">                                              I/O Request</span><br><span class="line">                                          via &#123;@link Channel&#125; or</span><br><span class="line">                                      &#123;@link ChannelHandlerContext&#125;</span><br><span class="line">                                                    |</span><br><span class="line">+---------------------------------------------------+---------------+</span><br><span class="line">|                           ChannelPipeline         |               |</span><br><span class="line">|                                                  \|/              |</span><br><span class="line">|    +---------------------+            +-----------+----------+    |</span><br><span class="line">|    | Inbound Handler  N  |            | Outbound Handler  1  |    |</span><br><span class="line">|    +----------+----------+            +-----------+----------+    |</span><br><span class="line">|              /|\                                  |               |</span><br><span class="line">|               |                                  \|/              |</span><br><span class="line">|    +----------+----------+            +-----------+----------+    |</span><br><span class="line">|    | Inbound Handler N-1 |            | Outbound Handler  2  |    |</span><br><span class="line">|    +----------+----------+            +-----------+----------+    |</span><br><span class="line">|              /|\                                  .               |</span><br><span class="line">|               .                                   .               |</span><br><span class="line">| ChannelHandlerContext.fireIN_EVT() ChannelHandlerContext.OUT_EVT()|</span><br><span class="line">|        [ method call]                       [method call]         |</span><br><span class="line">|               .                                   .               |</span><br><span class="line">|               .                                  \|/              |</span><br><span class="line">|    +----------+----------+            +-----------+----------+    |</span><br><span class="line">|    | Inbound Handler  2  |            | Outbound Handler M-1 |    |</span><br><span class="line">|    +----------+----------+            +-----------+----------+    |</span><br><span class="line">|              /|\                                  |               |</span><br><span class="line">|               |                                  \|/              |</span><br><span class="line">|    +----------+----------+            +-----------+----------+    |</span><br><span class="line">|    | Inbound Handler  1  |            | Outbound Handler  M  |    |</span><br><span class="line">|    +----------+----------+            +-----------+----------+    |</span><br><span class="line">|              /|\                                  |               |</span><br><span class="line">+---------------+-----------------------------------+---------------+</span><br><span class="line">                |                                  \|/</span><br><span class="line">+---------------+-----------------------------------+---------------+</span><br><span class="line">|               |                                   |               |</span><br><span class="line">|       [ Socket.read() ]                    [ Socket.write() ]     |</span><br><span class="line">|                                                                   |</span><br><span class="line">|  Netty Internal I/O Threads (Transport Implementation)            |</span><br><span class="line">+-------------------------------------------------------------------+</span><br></pre></td></tr></table></figure>
<p><code>Included transports</code></p>
<p><strong>NIO  Nonblocking I/O</strong> </p>
<p><strong>OIO  Old blocking I/O</strong></p>
<p><strong>Local  In VM transport</strong></p>
<p><strong>Embedded transport</strong></p>
<p>##Codec</p>
<p>##Bootstrap</p>
<p>A Netty application begins with one of the Bootstrap classes, is a construct Netty provides that makes it easy for you to configure how Netty should setup or bootstrap the application.</p>
<p>The <strong>ChannelInboundHandler</strong> receives messages which you can process and decide what to do with it. You may also write/flush data out from inside an ChannelInboundHandler when your application needs to provide a response.</p>
<p><strong>ChannelInitializer</strong> is to add <strong>ChannelHandler</strong> implementations to whats called the <strong>ChannelPipeline</strong>. </p>
<p>All Netty applications are based on what is called a <strong>ChannelPipeline</strong>. </p>
<p>All IO operations in Netty are performed asynchronously.</p>
<p><strong>ChannelFuture</strong> is a special java.util.concurrent.Future, which allos you to register ChannnelFutureListeners tot he ChannelFuture.</p>
<p>##Thread Model </p>
<p><code>ChannelHandlers</code> contain your business logic, are guaranteed to be executed by <code>a single thread</code> at the same time for a specific Channel. This doesnt mean Netty fails to use multithreading, but it does limit each connection<br>to one thread as this design works well for nonblocking execution. </p>
<p>Theres no need for you to think about any of the issues you often have when working with multithreaded applications. </p>
<hr>
<p><code>General API for compression codecs</code></p>
<p>Each compression codec is presented as its own class. It’s difficult to switch one compression codec to another without significant code modifications.</p>
<p>Modifications:<br>Added classes:</p>
<ul>
<li><code>CompressionCodecFactory</code> - factory for all compression codecs</li>
<li><code>CompressionDecoder</code> - abstract class, parent for all compression decoders</li>
<li><code>CompressionEncoder</code> - abstract class, parent for all compression encoders</li>
<li><code>CompressionFormat</code> - enum with all available compression formats</li>
</ul>
<p>Extend all compression encoders and decoders to use new abstract classes.</p>
<p>Result:General API for every compression codecs.</p>
<hr>
<p>Reference :</p>
<ol>
<li><a href="http://netty.io/wiki/new-and-noteworthy-in-4.0.html" target="_blank" rel="external">New and noteworthy in 4.0</a></li>
<li><a href="http://blog.csdn.net/SpiderDog/article/category/1800249" target="_blank" rel="external">Netty4学习笔记</a></li>
</ol>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
  
    <a href="/page/2/" class="alignright next">Nächste Seite</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Suche">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Kategorien</h3>
  <ul class="entry">
  
    <li><a href="/categories/Algorithms/">Algorithms</a><small>2</small></li>
  
    <li><a href="/categories/Design/">Design</a><small>1</small></li>
  
    <li><a href="/categories/Distributed/">Distributed</a><small>10</small></li>
  
    <li><a href="/categories/Language/">Language</a><small>6</small></li>
  
    <li><a href="/categories/Machine-Learning/">Machine Learning</a><small>1</small></li>
  
    <li><a href="/categories/Mathematics/">Mathematics</a><small>1</small></li>
  
    <li><a href="/categories/Network/">Network</a><small>2</small></li>
  
    <li><a href="/categories/OP/">OP</a><small>1</small></li>
  
    <li><a href="/categories/Storage/">Storage</a><small>2</small></li>
  
    <li><a href="/categories/live/">live</a><small>7</small></li>
  
    <li><a href="/categories/machine-learning/">machine_learning</a><small>1</small></li>
  
    <li><a href="/categories/math/">math</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/Algorithms/">Algorithms</a><small>1</small></li>
  
    <li><a href="/tags/Alluxio/">Alluxio</a><small>1</small></li>
  
    <li><a href="/tags/Clojure/">Clojure</a><small>1</small></li>
  
    <li><a href="/tags/Design/">Design</a><small>1</small></li>
  
    <li><a href="/tags/Hadoop/">Hadoop</a><small>5</small></li>
  
    <li><a href="/tags/JVM/">JVM</a><small>1</small></li>
  
    <li><a href="/tags/Java/">Java</a><small>2</small></li>
  
    <li><a href="/tags/Linux/">Linux</a><small>1</small></li>
  
    <li><a href="/tags/Machine-Learning/">Machine Learning</a><small>1</small></li>
  
    <li><a href="/tags/Mathematics/">Mathematics</a><small>1</small></li>
  
    <li><a href="/tags/Mesos/">Mesos</a><small>1</small></li>
  
    <li><a href="/tags/MySQL/">MySQL</a><small>1</small></li>
  
    <li><a href="/tags/Network/">Network</a><small>2</small></li>
  
    <li><a href="/tags/Node/">Node</a><small>1</small></li>
  
    <li><a href="/tags/Politics/">Politics</a><small>1</small></li>
  
    <li><a href="/tags/Psychology/">Psychology</a><small>1</small></li>
  
    <li><a href="/tags/RedBlackTree/">RedBlackTree</a><small>1</small></li>
  
    <li><a href="/tags/RocksDB/">RocksDB</a><small>1</small></li>
  
    <li><a href="/tags/Scala/">Scala</a><small>1</small></li>
  
    <li><a href="/tags/Streaming-Process/">Streaming Process</a><small>1</small></li>
  
    <li><a href="/tags/TensorFlow/">TensorFlow</a><small>1</small></li>
  
    <li><a href="/tags/ZooKeeper/">ZooKeeper</a><small>1</small></li>
  
    <li><a href="/tags/chess/">chess</a><small>1</small></li>
  
    <li><a href="/tags/coffee/">coffee</a><small>1</small></li>
  
    <li><a href="/tags/discrete-mathematics/">discrete_mathematics</a><small>1</small></li>
  
    <li><a href="/tags/economics/">economics</a><small>1</small></li>
  
    <li><a href="/tags/fitness/">fitness</a><small>1</small></li>
  
    <li><a href="/tags/game/">game</a><small>1</small></li>
  
    <li><a href="/tags/spark/">spark</a><small>1</small></li>
  
  </ul>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 Darion Yaphet
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>
